"use strict";(self.webpackChunkrx_angular=self.webpackChunkrx_angular||[]).push([[9025],{7372:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>p,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>c,toc:()=>u});var n=a(7462),r=a(3366),o=(a(7294),a(3905)),l=["components"],i={sidebar_label:"Global State",title:"Global State"},s="Global State",c={unversionedId:"state/tutorials/basic-tutorial/global-state",id:"state/tutorials/basic-tutorial/global-state",title:"Global State",description:"In this chapter, we will create the global state and attach it to our component (see [global-state.start.component.ts] [global-state.start.component.ts]) to enable reactive state management there.",source:"@site/docs/state/tutorials/basic-tutorial/04-global-state.md",sourceDirName:"state/tutorials/basic-tutorial",slug:"/state/tutorials/basic-tutorial/global-state",permalink:"/docs/state/tutorials/basic-tutorial/global-state",draft:!1,editUrl:"https://github.com/rx-angular/rx-angular/edit/main/docs/state/tutorials/basic-tutorial/04-global-state.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_label:"Global State",title:"Global State"},sidebar:"docs",previous:{title:"Output Bindings",permalink:"/docs/state/tutorials/basic-tutorial/output-bindings"},next:{title:"Side Effects",permalink:"/docs/state/tutorials/basic-tutorial/side-effects"}},p={},u=[{value:"Connect the global state to the <code>list</code> slice",id:"connect-the-global-state-to-the-list-slice",level:2}],m={toc:u};function d(t){var e=t.components,a=(0,r.Z)(t,l);return(0,o.kt)("wrapper",(0,n.Z)({},m,a,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"global-state"},"Global State"),(0,o.kt)("p",null,"In this chapter, we will create the global state and attach it to our component (see ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/rx-angular/rx-angular/blob/main/apps/demos/src/app/features/tutorials/basics/4-global-state/global-state.start.component.ts"},"global-state.start.component.ts"),") to enable reactive state management there."),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"connect-the-global-state-to-the-list-slice"},"Connect the global state to the ",(0,o.kt)("inlineCode",{parentName:"h2"},"list")," slice"),(0,o.kt)("p",null,"In components, we often need to transform global state into local state. Most often, you also need to map the global object into a new shape that would match the view. This state is provided as an ",(0,o.kt)("inlineCode",{parentName:"p"},"Observable")," here.\nIn the current implementation, we use a method called ",(0,o.kt)("inlineCode",{parentName:"p"},"parseListItems")," to achieve that."),(0,o.kt)("p",null,"We already used the ",(0,o.kt)("inlineCode",{parentName:"p"},"connect")," method to ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/rx-angular/rx-angular/tree/main/apps/demos/src/app/features/tutorials/basics/3-output-bindings"},"connect our child component's state"),".\nNow let's use another overload to connect the global state to the component."),(0,o.kt)("p",null,"With this overload, the first value is assigned to the property to determine the\ntarget slice that we want to connect the global state to. In our case, this is the ",(0,o.kt)("inlineCode",{parentName:"p"},"list")," slice."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"// ...\nconstructor(private listService: ListService) {\n  // ...\n  this.connect(\n    'list',\n    this.listService.list$.pipe(map(this.parseListItems))\n  );\n}\n")),(0,o.kt)("p",null,"Now that the slice is connected, we can delete the ",(0,o.kt)("inlineCode",{parentName:"p"},"storeList$")," property in our class and refactor the template into the following:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'...\n<mat-panel-description>\n  <span\n    >{{ vm.list.length }} Repositories Updated every: {{ vm.refreshInterval }}\n    ms\n  </span>\n</mat-panel-description>\n...\n\n<div *ngIf="vm.list?.length; else noList">\n  <mat-list>\n    <mat-list-item *ngFor="let item of list"> {{ item.name }} </mat-list-item>\n  </mat-list>\n</div>\n')),(0,o.kt)("p",null,"With this step, we're refactoring our state management from an imperative to a reactive implementation."),(0,o.kt)("p",null,"The benefits we can gain here are that we have our state centralized and reactive but, at the same time, can also include\nimperative parts of our components, like input bindings, into the state."))}d.isMDXComponent=!0},3905:(t,e,a)=>{a.d(e,{Zo:()=>p,kt:()=>d});var n=a(7294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},o=Object.keys(t);for(n=0;n<o.length;n++)a=o[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)a=o[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var s=n.createContext({}),c=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):l(l({},e),t)),a},p=function(t){var e=c(t.components);return n.createElement(s.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},m=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,o=t.originalType,s=t.parentName,p=i(t,["components","mdxType","originalType","parentName"]),m=c(a),d=r,h=m["".concat(s,".").concat(d)]||m[d]||u[d]||o;return a?n.createElement(h,l(l({ref:e},p),{},{components:a})):n.createElement(h,l({ref:e},p))}));function d(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var o=a.length,l=new Array(o);l[0]=m;var i={};for(var s in e)hasOwnProperty.call(e,s)&&(i[s]=e[s]);i.originalType=t,i.mdxType="string"==typeof t?t:r,l[1]=i;for(var c=2;c<o;c++)l[c]=a[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"}}]);